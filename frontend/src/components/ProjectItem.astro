---
import type { Project } from '../api';
import { IMAGE_URL } from '../constants';
import TextWithIcon from './TextWithIcon.astro';
import Link from './Link.astro';

interface Props {
    project: Project;
}

const { project }: Props = Astro.props;
---

<li class="show">
    <Link href={`/project/${project.id}`}>
        <picture>
            <img
                data-testid="project-image"
                src={`${IMAGE_URL}/${project.mainImage.Key}`}
                alt={project.title}
            />
        </picture>
        <TextWithIcon text={project.title} />
    </Link>
</li>

<style>
    li {
        display: flex;
        flex-direction: column;
        justify-content: start;
        align-items: center;
        gap: 0.5rem;
        height: fit-content;
    }

    li:nth-child(even) {
        margin-top: 4rem;
    }

    picture {
        width: 100%;
        height: 350px;
        overflow: hidden;
        box-shadow: rgba(0, 0, 0, 0.15) 0px 5px 15px 0px;
    }

    li:hover :global(.text-container p::after) {
        transform: scaleX(1);
    }

    li:hover :global(.icon),
    li:hover :global(.icon-2) {
        transform: translateY(-28%) translateX(24%);
    }
</style>
